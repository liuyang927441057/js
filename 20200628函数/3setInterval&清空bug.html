<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //  计时器
      //  每隔多少毫秒执行一次 回掉函数 无限循环的执行
      //   出口：

      var x = 0;
      //  timer 表示 每一个计时器的身份
      //   var timer = setInterval(function () {
      //     x++;
      //     console.log(x);
      //     if (x > 3) {
      //       // 清空计时器 ， 如果不清空计时器，导致页面性能特别差
      //       // ----> 导致清空哪一个计时器；
      //       clearInterval(timer);
      //     }
      //   }, 500);

      // 注意: 多次执行同一个setInterval 到底清空哪一个?

      // for (var i = 0; i < 3; i++) {
      //   var x = 0;
      //   // setInterval  执行3次
      //   var timer = setInterval(function () {
      //       // 3n 次
      //       console.log('222222')
      //       // 坑 在这里清空 不知道清空的是哪一个timer
      //       clearInterval(timer)   // 清空的是 最后一次执行的计时器
      //   }, 500);
      //   console.log(timer,'==============');  // timer 形成多个；需要清空每一个
      // }

      for (var i = 0; i < 3; i++) {
        var timer = setInterval(function () {
          console.log("222222");
          // console.log(timer)  // 3
          // clearInterval(timer)
        }, 500);
        console.log(timer, "==============");
        //   clearInterval(timer)   // 清空了 多个tiamer  // 坑： setInterval 失效了
        // -----> 如何解决失效问题  ？ 慢点

        // 坑三  清最后timer 清了 3次
        // setTimeout(function(){
        //     console.log(timer)
        //     clearInterval(timer)
        // },501)

        //-----> 目的：需要  分别保存timer 的值？ 1，2，3  ---> 用立即执行函数结局
      }
    </script>
  </body>
</html>
